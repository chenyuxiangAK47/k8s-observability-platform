# Default values for microservices
namespace: microservices

# Global configuration
global:
  # imageRegistry: "ghcr.io"  # GitHub Container Registry (uncomment for CI/CD)
  imageRegistry: ""  # Empty for local images
  imagePullSecrets: []
  # If using private images, configure imagePullSecrets
  # imagePullSecrets:
  #   - name: ghcr-secret

# User Service configuration
userService:
  enabled: true
  image:
    repository: user-service  # 完整路径: ghcr.io/<username>/user-service
    tag: latest  # CI/CD 会自动更新为 Git SHA
    pullPolicy: IfNotPresent
  replicaCount: 2
  service:
    type: ClusterIP
    port: 8001
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80

# Product Service configuration
productService:
  enabled: true
  image:
    repository: product-service  # 完整路径: ghcr.io/<username>/product-service
    tag: latest  # CI/CD 会自动更新为 Git SHA
    pullPolicy: IfNotPresent
  replicaCount: 2
  service:
    type: ClusterIP
    port: 8002
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80

# Order Service configuration
orderService:
  enabled: true
  image:
    repository: order-service  # 完整路径: ghcr.io/<username>/order-service
    tag: latest  # CI/CD 会自动更新为 Git SHA
    pullPolicy: IfNotPresent
  replicaCount: 2
  service:
    type: ClusterIP
    port: 8003
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80

# OpenTelemetry configuration
opentelemetry:
  enabled: true
  collector:
    endpoint: "http://jaeger-collector.observability.svc.cluster.local:4317"

# Database configuration
database:
  host: postgresql.microservices.svc.cluster.local
  port: 5432
  user: user
  password: password

# RabbitMQ configuration
rabbitmq:
  host: rabbitmq.microservices.svc.cluster.local
  port: 5672
  user: guest
  password: guest












