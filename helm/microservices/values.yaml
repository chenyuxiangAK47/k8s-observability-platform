# Default values for microservices
namespace: microservices
# Global configuration
global:
  # imageRegistry: "ghcr.io"  # GitHub Container Registry (set by CI/CD automatically)
  imageRegistry: "ghcr.io" # Empty for local images (CI/CD will set this to "ghcr.io")
  imagePullSecrets: []
  # If using private images, configure imagePullSecrets
  # imagePullSecrets:
  #   - name: ghcr-secret
# User Service configuration
userService:
  enabled: true
  image:
    repository: chenyuxiangak47/user-service # 完整路径: ghcr.io/<username>/user-service
    tag: 092cad719be7fc18414111efe39554b0ed364293 # CI/CD 会自动更新为 Git SHA
    pullPolicy: IfNotPresent
  replicaCount: 2
  service:
    type: ClusterIP
    port: 8001
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
# Product Service configuration
productService:
  enabled: true
  image:
    repository: product-service # 完整路径: ghcr.io/<username>/product-service
    tag: 2fdb2f46fc98b6b49c7c4696573c07ef0f184482 # CI/CD 会自动更新为 Git SHA
    pullPolicy: IfNotPresent
  replicaCount: 2
  service:
    type: ClusterIP
    port: 8002
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
# Order Service configuration
orderService:
  enabled: true
  image:
    repository: order-service # 完整路径: ghcr.io/<username>/order-service
    tag: 2fdb2f46fc98b6b49c7c4696573c07ef0f184482 # CI/CD 会自动更新为 Git SHA
    pullPolicy: IfNotPresent
  replicaCount: 2
  service:
    type: ClusterIP
    port: 8003
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
# OpenTelemetry configuration
opentelemetry:
  enabled: true
  collector:
    endpoint: "http://jaeger-collector.observability.svc.cluster.local:4317"
# Database configuration
database:
  host: postgresql.microservices.svc.cluster.local
  port: 5432
  user: user
  password: password
# RabbitMQ configuration
rabbitmq:
  host: rabbitmq.microservices.svc.cluster.local
  port: 5672
  user: guest
  password: guest
